<div class="d-flex mb-3" style="height: 80px">
  <div class="mr-auto p-2">
    <h1 style="font-family: 'Lucida Sans'; font-size: 25px" class="ml-3 mt-3">
      Choose Data
    </h1>
  </div>
  <div class="p-2">
    <mat-form-field appearance="outline" style="width: 200px" class="mt-1">
      <mat-label>
        <mat-icon>search</mat-icon>
        Search
      </mat-label>
      <input matInput type="text" appAlfabetOnly [(ngModel)]="searchData" />
    </mat-form-field>
  </div>
  <div class="mt-3">
    <button
      (click)="searchKabupaten()"
      color="primary"
      style="height: 50px; color: white"
      class="btn btn-warning"
    >
      Search
    </button>
  </div>
</div>

<div>
  <div class="mat-elevation-z8 toCenter" style="width: 98%">
    <div>
      <table
        mat-table
        [dataSource]="dataSource"
        style="width: 100%"
        #sort="matSort"
        matSort
      >
        <!-- Kolom ID Kabupaten -->
        <ng-container matColumnDef="cityId">
          <th
            mat-header-cell
            *matHeaderCellDef
            style="width: 13%"
            mat-sort-header
          >
            ID Kabupaten/Kota
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.cityId }}
          </td>
        </ng-container>

        <!-- Kolom Nama Kabupaten -->
        <ng-container matColumnDef="cityName">
          <th
            mat-header-cell
            *matHeaderCellDef
            style="width: 19%"
            mat-sort-header
          >
            Kabupaten/Kota
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.cityName }}
          </td>
        </ng-container>

        <!-- Kolom Nama Provinsi -->
        <ng-container matColumnDef="provinceName">
          <th
            mat-header-cell
            *matHeaderCellDef
            style="width: 29%"
            mat-sort-header
          >
            Provinsi
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.provinceName }}
          </td>
        </ng-container>

        <!-- Kolom Nama Negara -->
        <ng-container matColumnDef="countryNameIdn">
          <th mat-header-cell *matHeaderCellDef style="width: 19%">Negara</th>
          <td mat-cell *matCellDef="let element">
            {{ element.countryNameIdn }}
          </td>
        </ng-container>

        <ng-container matColumnDef="countryId" *matCellDef="let element">
          {{ element.countryId }}
        </ng-container>

        <ng-container matColumnDef="provinceId" *matCellDef="let element">
          {{ element.provinceId }}
        </ng-container>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell text-center fs-5" colspan="8" *ngIf="isLoading">
            <mat-spinner class="container mt-5 mb-5"></mat-spinner>
          </td>
          <td class="" colspan="9" *ngIf="error">
            <div class="alert alert-danger" role="alert">
              <i class="fas fa-exclamation-circle mr-2"></i>
              <strong>Error!</strong>
              Service Unavailable
              <i
                class="fas fa-redo-alt ml-3"
                (click)="getKabupaten()"
                style="cursor: pointer"
              ></i>
            </div>
          </td>
          <td class="mat-cell text-center fs-5" colspan="8" *ngIf="noData">
            No Data Available!
          </td>
        </tr>

        <!-- <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell text-center fs-5" colspan="8">
            No Data Available!
          </td>
        </tr> -->

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let element; columns: displayedColumns"
          class="element-hover"
          (click)="chooseCell(element)"
        ></tr>
      </table>
      <mat-paginator
        #paginator
        showFirstLastButtons
        (page)="handlePageEvent($event)"
        [length]="totalRec"
        [pageSize]="pageSize"
        [pageIndex]="pageIndex"
        [pageSizeOptions]="pageSizeOptions"
        aria-label="Select page"
      >
      </mat-paginator>
    </div>
  </div>
</div>
